<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ورود به پنل مدیریت</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vazirmatn Font -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            overflow-x: hidden;
            background-color: #020617; /* Slate 950 */
        }

        /* Starfield Canvas styling */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(to bottom, #020617 0%, #1e1b4b 100%);
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transition: all 0.4s ease;
        }

        .glass-card:hover {
            border-color: rgba(167, 139, 250, 0.2);
            box-shadow: 0 0 30px rgba(124, 58, 237, 0.15);
        }

        /* Text Glow Animation */
        .text-glow {
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.5), 0 0 20px rgba(139, 92, 246, 0.3);
            animation: pulse-glow 3s infinite alternate;
        }

        @keyframes pulse-glow {
            0% { text-shadow: 0 0 10px rgba(139, 92, 246, 0.5); }
            100% { text-shadow: 0 0 25px rgba(56, 189, 248, 0.8), 0 0 10px rgba(255, 255, 255, 0.5); }
        }

        /* Floating Animation */
        .float-anim {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        /* Input Styling */
        .custom-input {
            background: rgba(15, 23, 42, 0.6);
            transition: all 0.3s ease;
        }
        .custom-input:focus {
            background: rgba(15, 23, 42, 0.8);
            transform: translateY(-2px);
        }

        /* Scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #4c1d95; 
            border-radius: 4px;
        }
    </style>
</head>
<body class="text-gray-100 custom-scroll min-h-screen flex flex-col justify-between">

    <!-- Canvas for Stars -->
    <canvas id="starfield"></canvas>
    
    <!-- Shooting Stars Layer -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
        <!-- Stars will be handled by JS, but we can keep CSS shooting stars if needed, or rely on canvas -->
    </div>

    <!-- Header -->
    <header class="relative z-10 w-full py-8 flex justify-center items-center">
        <div class="text-4xl md:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-500 text-glow tracking-tight">
            پنل مدیریت پروکسی
        </div>
    </header>

    <!-- Main Login Section -->
    <main class="flex-grow relative z-10 w-full px-4 flex flex-col items-center justify-center">
        
        <div class="glass-card w-full max-w-[400px] p-8 md:p-10 rounded-3xl relative overflow-hidden float-anim">
            
            <!-- Background Glow Effects -->
            <div class="absolute -top-10 -right-10 w-40 h-40 bg-purple-600/20 rounded-full blur-[60px] pointer-events-none animate-pulse"></div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-cyan-600/20 rounded-full blur-[60px] pointer-events-none animate-pulse" style="animation-delay: 1.5s;"></div>

            <!-- Title -->
            <div class="relative z-10 text-center mb-10">
                <h1 class="text-2xl font-bold text-white mb-2">
                    خوش آمدید
                </h1>
                <p class="text-slate-400 text-xs md:text-sm font-light">لطفا وارد حساب کاربری خود شوید</p>
            </div>

            <!-- Login Form -->
            <form action="{{ url_for('auth.login') }}" method="POST" class="space-y-5 relative z-10 text-right">
                
                <!-- Email Field -->
                <div class="group">
                    <label class="block text-slate-400 text-xs font-medium mb-2 pr-1 transition-colors group-focus-within:text-cyan-400">نام کاربری</label>
                    <div class="relative">
                        <input type="text" name="username" class="custom-input w-full border border-slate-700/50 text-slate-100 text-sm rounded-xl focus:ring-2 focus:ring-purple-500/30 focus:border-purple-500 block p-3.5 pl-10 focus:shadow-[0_0_20px_rgba(168,85,247,0.2)] outline-none" placeholder="username" dir="ltr" required>
                        <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3.5 top-3.5 h-5 w-5 text-slate-500 transition-colors group-focus-within:text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                        </svg>
                    </div>
                </div>

                <!-- Password Field -->
                <div class="group">
                    <label class="block text-slate-400 text-xs font-medium mb-2 pr-1 transition-colors group-focus-within:text-cyan-400">رمز عبور</label>
                    <div class="relative">
                        <input type="password" name="password" class="custom-input w-full border border-slate-700/50 text-slate-100 text-sm rounded-xl focus:ring-2 focus:ring-cyan-500/30 focus:border-cyan-500 block p-3.5 pl-10 focus:shadow-[0_0_20px_rgba(6,182,212,0.2)] outline-none" placeholder="••••••••" dir="ltr" required>
                        <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3.5 top-3.5 h-5 w-5 text-slate-500 transition-colors group-focus-within:text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                    </div>
                </div>

                <!-- Login Button -->
                <button type="submit" class="w-full mt-4 py-3.5 px-4 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold text-sm shadow-[0_4px_20px_rgba(99,102,241,0.4)] hover:shadow-[0_6px_25px_rgba(99,102,241,0.6)] transform active:scale-95 hover:-translate-y-0.5 transition-all duration-300">
                    ورود به پنل
                </button>

            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="relative z-10 w-full py-6 pb-8 flex flex-col items-center justify-center gap-4 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent">
        
        <!-- Creator Text -->
        <div class="text-slate-400 text-sm font-medium tracking-wide">
            ساخته شده توسط <span class="text-purple-400 font-bold drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]">
                @KillHosein</span>
        </div>

        <!-- Telegram Support Button -->
        <a href="https://t.me/KillHosein" target="_blank" class="group flex items-center gap-3 px-5 py-2.5 rounded-full bg-slate-800/40 hover:bg-[#229ED9]/20 border border-slate-700 hover:border-[#229ED9]/50 transition-all duration-300 backdrop-blur-sm shadow-lg">
            <div class="relative w-6 h-6 flex items-center justify-center">
                <!-- Telegram Icon SVG -->
                <svg viewBox="0 0 24 24" class="w-6 h-6 text-slate-400 group-hover:text-[#229ED9] transition-colors fill-current" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.62 0zm4.91 5.646c.79 5.271 2.978 17.506 2.978 17.506s.76 2.552-2.124 2.552c-2.176 0-7.394-4.814-8.632-5.83-1.896-1.554-.627-2.678.718-4.048 3.522-3.586 7.42-8.344 3.737-11.97-5.26-5.18-19.38 6.533-20.24 8.794-.96 2.516.89 3.09 3.23 3.09 3.966 0 9.778-2.618 13.91-4.254 5.67-2.246 6.423-5.84 6.423-5.84z"/>
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.4-1.08.39-.35-.01-1.03-.2-1.54-.35-.62-.18-1.12-.28-1.08-.58.02-.16.24-.32.65-.49 2.56-1.11 4.27-1.84 5.13-2.2 2.44-1.02 2.95-1.2 3.28-1.2.07 0 .24.02.34.1.09.07.12.16.13.25 0 .1-.01.25-.01.3z" fill-rule="evenodd"/> 
                </svg>
            </div>
            <span class="text-sm font-medium text-slate-300 group-hover:text-white transition-colors">ارتباط و پشتیبانی</span>
        </a>
    </footer>

    <!-- Scripts -->
    <script>
        // Starfield Animation Logic
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');

        let width, height;
        let stars = [];
        const numStars = 150; // Adjusted for performance on mobile

        // Resize canvas to fill window
        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }

        // Star Class
        class Star {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 2 + 0.1;
                this.speed = Math.random() * 0.3 + 0.1; // Slightly slower for calmer feel
                this.opacity = Math.random();
                this.fadeDirection = Math.random() > 0.5 ? 0.01 : -0.01;
            }

            update() {
                this.y -= this.speed; 
                
                this.opacity += this.fadeDirection;
                if (this.opacity >= 1 || this.opacity <= 0.1) {
                    this.fadeDirection = -this.fadeDirection;
                }

                if (this.y < 0) {
                    this.y = height;
                    this.x = Math.random() * width;
                }
            }

            draw() {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initStars() {
            stars = [];
            for (let i = 0; i < numStars; i++) {
                stars.push(new Star());
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            stars.forEach(star => {
                star.update();
                star.draw();
            });
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            resize();
            initStars();
        });

        resize();
        initStars();
        animate();

    </script>
</body>
</html>